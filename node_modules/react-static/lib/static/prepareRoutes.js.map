{"version":3,"sources":["../../src/static/prepareRoutes.js"],"names":["config","opts","cb","d","beforePrepareRoutes","plugins","silent","console","log","process","env","REACT_STATIC_ROUTES_PATH","path","join","paths","BUILD_ARTIFACTS","chalk","green","routes","afterPrepareRoutes","prepareRoutes"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;4BAIgB,kBAA6BA,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqCC,YAAAA,IAArC,8DAA4C,EAA5C;AAAgDC,YAAAA,EAAhD,8DAAqD,UAAAC,CAAC;AAAA,qBAAIA,CAAJ;AAAA,aAAtD;AACRC,YAAAA,mBADQ,GACc,4BAC1BJ,MAAM,CAACK,OADmB,EAE1B,qBAF0B,CADd;AAAA;AAAA,mBAKCD,mBAAmB,CAACJ,MAAD,CALpB;;AAAA;AAKdA,YAAAA,MALc;AAOd,gBAAI,CAACC,IAAI,CAACK,MAAV,EAAkBC,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAPJ,CAQd;;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYC,wBAAZ,GAAuCC,cAAKC,IAAL,CACrCb,MAAM,CAACc,KAAP,CAAaC,eADwB,EAErC,2BAFqC,CAAvC;AAKA,gBAAI,CAACd,IAAI,CAACK,MAAV,EAAkB,iBAAKU,eAAMC,KAAN,CAAY,0BAAZ,CAAL;AAdJ;AAAA,mBAeR,wBACJ;AACEjB,cAAAA,MAAM,EAANA,MADF;AAEEC,cAAAA,IAAI,EAAJA;AAFF,aADI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKJ,iBAAMiB,MAAN;AAAA;AAAA;AAAA;AAAA;AACE,4BAAI,CAACjB,IAAI,CAACK,MAAV,EAAkB,oBAAQU,eAAMC,KAAN,CAAY,0BAAZ,CAAR;AAClBjB,wBAAAA,MAAM,CAACkB,MAAP,GAAgBA,MAAhB;AAFF,yDAGShB,EAAE,CAACF,MAAD,CAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALI;;AAAA;AAAA;AAAA;AAAA,gBAfQ;;AAAA;AA2BRmB,YAAAA,kBA3BQ,GA2Ba,4BACzBnB,MAAM,CAACK,OADkB,EAEzB,oBAFyB,CA3Bb;AAAA;AAAA,mBA+BCc,kBAAkB,CAACnB,MAAD,CA/BnB;;AAAA;AA+BdA,YAAAA,MA/Bc;AAAA,8CAgCPA,MAhCO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeoB,a;;;;SAAAA,a","sourcesContent":["import path from 'path'\nimport chalk from 'chalk'\n\nimport getRoutes from './getRoutes'\nimport buildXML from './buildXML'\nimport { makeHookReducer, time, timeEnd } from '../utils'\n\nexport { buildXML }\n\nexport default (async function prepareRoutes(config, opts = {}, cb = d => d) {\n  const beforePrepareRoutes = makeHookReducer(\n    config.plugins,\n    'beforePrepareRoutes'\n  )\n  config = await beforePrepareRoutes(config)\n\n  if (!opts.silent) console.log('=> Building Routes...')\n  // set the static routes\n  process.env.REACT_STATIC_ROUTES_PATH = path.join(\n    config.paths.BUILD_ARTIFACTS,\n    'react-static-templates.js'\n  )\n\n  if (!opts.silent) time(chalk.green('=> [\\u2713] Routes Built'))\n  await getRoutes(\n    {\n      config,\n      opts,\n    },\n    async routes => {\n      if (!opts.silent) timeEnd(chalk.green('=> [\\u2713] Routes Built'))\n      config.routes = routes\n      return cb(config)\n    }\n  )\n\n  const afterPrepareRoutes = makeHookReducer(\n    config.plugins,\n    'afterPrepareRoutes'\n  )\n  config = await afterPrepareRoutes(config)\n  return config\n})\n"],"file":"prepareRoutes.js"}